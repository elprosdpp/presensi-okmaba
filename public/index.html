<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" type="image/x-icon" href="/public/img/unw.png" />
    <link href="/public/css/output.css" rel="stylesheet" />
    <link href="/public/css/style.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@10..48,400;10..48,500;10..48,600;10..48,700&display=swap"
      rel="stylesheet"
    />
    <title>PRESENSI OKMABA 2023</title>
  </head>
  <body>
    <!-- Render Main Page -->
    <div id="MainLayout" class="w-full max-w-[500px] h-screen">
      <!-- Navbar  -->

      <nav class="fixed w-full z-[99] max-w-[500px]">
        <div class="flex flex-wrap items-center justify-between mx-auto p-4">
          <a href="index.html" class="flex items-center">
            <img
              src="/public/img/unw.png"
              class="h-8 mr-3"
              alt="Presensi OKMABA 2023"
            />
            <span
              class="self-center text-xl text-white font-semibold whitespace-nowrap dark:text-white"
              >PRESENSI OKMABA</span
            >
          </a>
          <button
            type="button"
            onclick="navMenu()"
            class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg"
          >
            <span class="sr-only">Open main menu</span>
            <svg
              class="w-5 h-5 text-white"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 17 14"
              id="burger"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M1 1h15M1 7h15M1 13h15"
              />
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="32"
              height="32"
              viewBox="0 0 16 16"
              class="text-white font-bold hidden"
              id="cross"
            >
              <path
                fill="currentColor"
                d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8L2.146 2.854Z"
              />
            </svg>
          </button>
          <div class="hidden w-full shadow-md" id="navbar-default">
            <ul
              class="font-medium flex flex-col p-4 mt-4 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"
            >
              <li>
                <a
                  href="index.html"
                  class="block py-2 pl-3 pr-4 text-white bg-blue-700 rounded hover:bg-blue-800 hover:text-white"
                  aria-current="page"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 16 16"
                    class="inline-flex items-center mr-2"
                  >
                    <path
                      fill="currentColor"
                      d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5l5 5Z"
                    />
                  </svg>
                  Home</a
                >
              </li>
              <li>
                <a
                  href="data.html"
                  class="block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-blue-800 hover:text-white"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 16 16"
                    class="inline-flex items-center mr-2"
                  >
                    <path
                      fill="currentColor"
                      d="M4.318 2.687C5.234 2.271 6.536 2 8 2s2.766.27 3.682.687C12.644 3.125 13 3.627 13 4c0 .374-.356.875-1.318 1.313C10.766 5.729 9.464 6 8 6s-2.766-.27-3.682-.687C3.356 4.875 3 4.373 3 4c0-.374.356-.875 1.318-1.313ZM13 5.698V7c0 .374-.356.875-1.318 1.313C10.766 8.729 9.464 9 8 9s-2.766-.27-3.682-.687C3.356 7.875 3 7.373 3 7V5.698c.271.202.58.378.904.525C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777A4.92 4.92 0 0 0 13 5.698ZM14 4c0-1.007-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1s-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4v9c0 1.007.875 1.755 1.904 2.223C4.978 15.71 6.427 16 8 16s3.022-.289 4.096-.777C13.125 14.755 14 14.007 14 13V4Zm-1 4.698V10c0 .374-.356.875-1.318 1.313C10.766 11.729 9.464 12 8 12s-2.766-.27-3.682-.687C3.356 10.875 3 10.373 3 10V8.698c.271.202.58.378.904.525C4.978 9.71 6.427 10 8 10s3.022-.289 4.096-.777A4.92 4.92 0 0 0 13 8.698Zm0 3V13c0 .374-.356.875-1.318 1.313C10.766 14.729 9.464 15 8 15s-2.766-.27-3.682-.687C3.356 13.875 3 13.373 3 13v-1.302c.271.202.58.378.904.525C4.978 12.71 6.427 13 8 13s3.022-.289 4.096-.777c.324-.147.633-.323.904-.525Z"
                    />
                  </svg>
                  Data Presensi</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Image Content -->
      <div class="">
        <div class="relative top-0">
          <img
            src="/public/img/img3.png"
            alt=""
            class="w-full h-[43rem] object-cover overflow-y-hidden"
          />
        </div>
        <!-- Text Content -->
        <div
          class="fixed z-[65] top-[25%] left-[50%] w-[85%] lg:max-w-[455px]"
          style="transform: translate(-50%, -50%)"
          id="showText"
        >
          <p
            class="text-3xl text-center font-semibold font-textQuote text-blue-800"
          >
            Selamat Datang!
          </p>
          <!-- Devider -->
          <div class="my-2"></div>
          <p
            class="text-[14px] text-center text-white font-semibold font-textQuote"
          >
            “Manusia yang paling lemah adalah orang yang tidak mampu mencari
            teman. Namun yang lebih lemah dari itu adalah orang yang mendapatkan
            banyak teman tetapi menyia-nyiakannya.”
          </p>

          <div
            class="w-10 h-1 bg-white flex justify-center left-[45%] relative my-2"
          ></div>
        </div>
      </div>

      <!-- Bottom Sheet Attendace -->
      <div class="mx-auto overflow-y-auto relative z-[60]">
        <!-- <button class="show-modal">Show Bottom Sheet</button> -->
        <div class="bottom-sheet show">
          <div class="sheet-overlay" id="sheetOpen"></div>
          <div class="content">
            <div class="header">
              <div
                class="drag-icon"
                id="showBottom"
                onclick="showBottomSheet()"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="25"
                  height="10"
                  viewBox="0 0 25 10"
                  fill="none"
                  class="my-5"
                >
                  <path
                    d="M2 8L12.5 2L23 8"
                    stroke="white"
                    stroke-width="3"
                    stroke-linecap="round"
                  />
                </svg>
              </div>

              <div
                class="drag-icon hideBottom"
                id="hideBottom"
                onclick="hideBottomSheet()"
              >
                <!-- <span></span> -->
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="25"
                  height="10"
                  viewBox="0 0 25 10"
                  fill="none"
                  class="my-5"
                >
                  <path
                    d="M2 2L12.5 8L23 2"
                    stroke="white"
                    stroke-width="3"
                    stroke-linecap="round"
                  />
                </svg>
              </div>
            </div>

            <div class="flex items-center justify-between p-5 text-white">
              <div class="flex flex-col">
                <p class="text-sm">Waktu</p>
                <p id="time" class="font-bold text-sm"></p>
              </div>
              <div class="flex flex-col">
                <p class="text-sm">Lokasi</p>
                <p class="font-bold text-sm">Universitas Ngudi Waluyo</p>
              </div>
            </div>

            <div class="body rounded-t-[40px]">
              <div class="bg-white rounded-t-[40px]">
                <div class="p-5">
                  <div class="flex items-center justify-center my-5">
                    <a
                      href="https://maps.google.com/"
                      target="_blank"
                      class="text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-4 py-1 text-center inline-flex items-center mr-2"
                    >
                      <svg
                        class="w-4 h-4 mr-2"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
                        ></path>
                      </svg>
                      Open Maps
                    </a>
                    <!-- Modal Button -->
                    <button
                      type="button"
                      class="text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-4 py-1 text-center inline-flex items-center mr-2"
                      data-modal-toggle="small-modal"
                    >
                      <svg
                        class="w-4 h-4 mr-2 -ml-1"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                        ></path>
                      </svg>
                      Tips
                    </button>
                    <!-- End Modal Button -->
                  </div>
                  <!-- Catatan -->
                  <div
                    class="flex p-4 mb-3 text-sm text-blue-700 bg-blue-100 rounded-lg dark:bg-blue-200 dark:text-blue-800"
                    role="alert"
                  >
                    <svg
                      class="inline flex-shrink-0 mr-3 w-5 h-5"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                        clip-rule="evenodd"
                      ></path>
                    </svg>
                    <div>
                      <span class="font-medium">Catatan :</span>
                      <ol class="list-decimal">
                        <li>
                          Presensi/absen wajib menampilkan foto selfie saat
                          melakukan presensi/absen
                        </li>
                        <li>
                          Mohon untuk tidak lupa melakukan presensi/absen (Jika
                          lupa presensi/absen, mohon untuk isi form lupa
                          presensi/absen)
                        </li>
                        <li>
                          Jika Diluar UNW Open Maps dan pastikan titik sudah
                          berada di UNW
                        </li>
                      </ol>
                    </div>
                  </div>
                  <!-- End Catatan -->

                  <!-- Error GPS/Camera -->
                  <div
                    class="flex p-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800"
                    role="alert"
                  >
                    <svg
                      class="inline flex-shrink-0 mr-3 w-5 h-5"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                        clip-rule="evenodd"
                      ></path>
                    </svg>
                    <div>
                      <span class="font-medium">Error!</span> Gagal Menemukan
                      Lokasi Mohon aktifkan akses lokasi dan refresh web ini
                      agar dapat melakukan presensi.
                    </div>
                  </div>
                  <!-- End Error GPS/Camera -->
                </div>

                <div class="p-5">
                  <label
                    for="default-search"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >NIK KTP Mahasiswa</label
                  >
                  <div class="ui-widget relative flex">
                    <input
                      type="text"
                      id="tags"
                      class="block p-4 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-indigo-500"
                      placeholder="NIK KTP Mahasiswa"
                    />
                    <svg
                      class="w-6 h-6 absolute bottom-1/4 right-3 mr-3 stroke-indigo-700"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                      ></path>
                    </svg>
                  </div>
                  <p class="text-xs mt-2 text-indigo-700">
                    [Tulis NIK Minimal 3 Angka]
                  </p>
                </div>

                <div class="p-5">
                  <label
                    for="default-search"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Kamera</label
                  >
                  <div class="container flex w-full h-auto">
                    <!-- <div id="my_camera"></div> -->
                    <video
                      id="my_camera"
                      autoplay
                      playsinline
                      style="width: 100%; height: auto"
                    ></video>
                  </div>
                  <div class="flex justify-center lg:justify-center">
                    <button
                      type="button"
                      class="text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mt-3 mr-2 mb-2"
                      onClick="take_snapshot()"
                    >
                      <svg
                        class="w-4 h-4 mr-2 -ml-1"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"
                        ></path>
                      </svg>
                      Capture
                    </button>
                  </div>
                </div>

                <div class="p-5">
                  <label
                    for="default-search"
                    class="block mb-2 text-sm font-medium text-gray-900"
                    >Preview</label
                  >
                  <div class="container flex w-full h-auto">
                    <canvas
                      id="results"
                      style="width: 100%; height: auto"
                    ></canvas>
                  </div>
                  <div class="flex justify-center mb-[10rem]">
                    <button
                      type="button"
                      class="text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mt-3 mr-2 mb-2"
                    >
                      <svg
                        class="w-4 h-4 mr-2 -ml-1"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 13l-3 3m0 0l-3-3m3 3V8m0 13a9 9 0 110-18 9 9 0 010 18z"
                        ></path>
                      </svg>
                      Masuk
                    </button>
                    <button
                      type="button"
                      class="text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mt-3 mr-2 mb-2"
                    >
                      <svg
                        class="w-4 h-4 mr-2 -ml-1"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"
                        ></path>
                      </svg>
                      Pulang
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Modal -->
    <div
      id="small-modal"
      tabindex="-1"
      aria-hidden="true"
      class="hidden overflow-y-auto overflow-x-hidden rounded-lg fixed top-0 right-0 left-0 z-[99] w-full md:inset-0 h-modal"
    >
      <div class="relative p-4 w-full max-w-xl h-modal">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
          <!-- Modal header -->
          <div
            class="flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600"
          >
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
              Tips
            </h3>
            <button
              type="button"
              class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white"
              data-modal-toggle="small-modal"
            >
              <svg
                class="w-5 h-5"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </button>
          </div>
          <!-- Modal body -->
          <div class="p-5 space-y-6 rounded-lg">
            <h5 class="font-semibold text-lg">
              Perangkat terdeteksi diluar UNW
            </h5>
            <p class="text-sm">
              Jika presensi gagal karena perangkat terdeteksi diluar UNW buka
              terlebih dahulu maps lalu pastikan titik lokasi sudah berada di
              UNW
            </p>
            <img
              class="w-full"
              src="https://presensi.unw.ac.id/assets/img/tips1.png"
              alt=""
            />
          </div>
        </div>
      </div>
    </div>
    <!-- End Main Modal -->

    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <script src="/node_modules/flowbite/dist/flowbite.min.js"></script>
    <script src="/public/js/script.js"></script>
    <script src="/public/js/webcam.min.js"></script>
    <script>
      function displayCurrentTime() {
        let currentTime = new Date();
        let hours = currentTime.getHours();
        let minutes = currentTime.getMinutes();
        let seconds = currentTime.getSeconds();
        // let amOrPm = hours < 24 ? "AM" : "PM";

        hours = hours === 0 ? 24 : hours > 24 ? hours - 24 : hours;
        hours = addZero(hours);
        minutes = addZero(minutes);
        seconds = addZero(seconds);

        let timeString =
          "Pukul : " + `${hours} : ${minutes} : ${seconds} ` + "WIB";

        document.getElementById("time").innerText = timeString;
        let timer = setTimeout(displayCurrentTime, 1000);
      }

      function addZero(component) {
        return component < 10 ? "0" + component : component;
      }

      displayCurrentTime();

      $(function () {
        var availableTags = [
          "ActionScript",
          "AppleScript",
          "Asp",
          "BASIC",
          "C",
          "C++",
          "Clojure",
          "COBOL",
          "ColdFusion",
          "Erlang",
          "Fortran",
          "Groovy",
          "Haskell",
          "Java",
          "JavaScript",
          "Lisp",
          "Perl",
          "PHP",
          "Python",
          "Ruby",
          "Scala",
          "Scheme",
        ];
        $("#tags").autocomplete({
          source: availableTags,
        });
      });

      //   Webcam.set({
      //     width: 640,
      //     height: 480,
      //     rounded: 20,
      //     image_format: "jpeg",
      //     jpeg_quality: 90,
      //     flip_horiz: true,
      //   });
      //   Webcam.set({
      //     width: 640,
      //     height: 480,
      //     dest_width: 640,
      //     dest_height: 480,
      //     image_format: "jpeg",
      //     jpeg_quality: 90,
      //     force_flash: false,
      //     flip_horiz: true,
      //   });

      //   Webcam.attach("#my_camera");

      //   function take_snapshot() {
      //     // take snapshot and get image data
      //     Webcam.snap(function (data_uri) {
      //       // display results in page
      //       document.getElementById("results").innerHTML =
      //         '<img src="' + data_uri + '"/>';
      //     });
      //   }
    </script>
  </body>
</html>
